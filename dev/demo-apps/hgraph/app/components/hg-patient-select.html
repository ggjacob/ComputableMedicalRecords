<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/core-signals/core-signals.html">

<polymer-element name="hg-patient-select">
	<template id="hg-patient-select">
		<div horizontal center-justified layout>
			<select id="patient-list" value="{{current}}" on-change="{{selectionChanged}}">
				<option value="{{DATA_URL}}/patient.juhan.json">Juhan</option>
				<option value="{{DATA_URL}}/patient.ben.json">Ben</option>
			</select>
	    </div>
	</template>
	<script>
		Polymer('hg-patient-select', {
			created: function() {
				this.pid = null;
				this.current = "{{DATA_URL}}/patient.juhan.json";
			},
			selectionChanged: function(e) {
				// Make a copy of the loaded data
				my = this;
				this.pid = this.current;
				this.fire('core-signal', {name: "hg-load-patient-data", data: my.pid});
			}
		});
	</script>
</polymer-element>